{"level":"error","message":"Error getting suggestions: Cannot read properties of undefined (reading 'title_suggest')","service":"search-engine","stack":"TypeError: Cannot read properties of undefined (reading 'title_suggest')\n    at SearchEngine.title_suggest [as getSuggestions] (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/utils/searchEngine.js:411:24)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/tests/searchEngine.test.js:244:29)","timestamp":"2025-07-31T17:12:20.669Z"}
{"level":"error","message":"Error analyzing text: Tokenizer error","service":"search-engine","stack":"Error: Tokenizer error\n    at Object.<anonymous> (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/tests/searchEngine.test.js:322:17)\n    at /Users/turphai/Projects/kiro_awareness/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/turphai/Projects/kiro_awareness/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as tokenize] (/Users/turphai/Projects/kiro_awareness/node_modules/jest-mock/build/index.js:148:19)\n    at SearchEngine.tokenize [as analyzeText] (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/utils/searchEngine.js:458:37)\n    at Object.analyzeText (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/tests/searchEngine.test.js:326:35)\n    at Promise.then.completed (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/turphai/Projects/kiro_awareness/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/turphai/Projects/kiro_awareness/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/turphai/Projects/kiro_awareness/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T17:12:20.701Z"}
{"level":"error","message":"Error finding similar content: Cannot read properties of null (reading 'forEach')","service":"search-engine","stack":"TypeError: Cannot read properties of null (reading 'forEach')\n    at SearchEngine.forEach [as findSimilarContent] (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/utils/searchEngine.js:574:18)\n    at Object.findSimilarContent (/Users/turphai/Projects/kiro_awareness/ai-information-aggregator/services/library-management/tests/searchEngine.test.js:344:35)\n    at Promise.then.completed (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/turphai/Projects/kiro_awareness/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/turphai/Projects/kiro_awareness/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/turphai/Projects/kiro_awareness/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/turphai/Projects/kiro_awareness/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T17:12:20.714Z"}
